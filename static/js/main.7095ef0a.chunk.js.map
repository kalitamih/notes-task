{"version":3,"sources":["components/search/search.js","components/search/index.js","components/note/note.js","components/note/index.js","components/modal/index.js","components/modal/modal.js","components/addNew/addNew.js","components/addNew/index.js","components/loader/loader.js","components/loader/index.js","constants/index.js","App.js","index.js"],"names":["Search","props","search","handleSearch","react_default","a","createElement","className","type","value","placeholder","onChange","Note","name","id","tags","showTagInput","deleteNote","showNote","removeTag","disabled","onClick","event","map","item","index","key","concat","Modal","state","scrollTop","divRef","React","createRef","handleScroll","target","_this","setState","this","_this$props","tag","length","current","_this$props2","show","watch","text","closeNote","handleInput","handleSubmit","modalClass","string","join","re","RegExp","divText","replace","tabIndex","role","onSubmit","maxLength","required","ref","ReactHtmlParser","onScroll","data-dismiss","Component","AddNew","Loader","LINK","App","showModal","showId","watchMode","nameNote","textNote","notes","loading","array","filter","parseInt","_event$target","addNote","_this$state","tagsArr","match","prevTags","newTags","Object","toConsumableArray","slice","newSet","Set","Array","from","addTag","_this$state2","_notes$showId","indexOf","preventDefault","_this$state3","note","newtags","num","_this2","fetch","then","response","json","data","catch","err","console","log","prevProps","prevState","headers","Accept","Content-Type","method","body","JSON","stringify","_this3","_this$state4","filteredNotes","trim","viewNotes","components_search","components_addNew","components_loader","components_note","components_modal","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.7095ef0a.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Search(props) {\n  const { search, handleSearch } = props;\n  return (\n    <form>\n      <div className=\"form-group search\">\n        <input\n          type=\"search\"\n          className=\"form-control\"\n          value={search}\n          placeholder=\"Enter filter for notes\"\n          onChange={handleSearch}\n        />\n      </div>\n    </form>\n  );\n}\n\nSearch.propTypes = {\n  search: PropTypes.string.isRequired,\n  handleSearch: PropTypes.func.isRequired,\n};\n\nexport default Search;\n","import Search from './search';\n\nexport default Search;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Note(props) {\n  const {\n    name, id, tags, showTagInput,\n    deleteNote, showNote, removeTag,\n  } = props;\n  return (\n    <div className=\"name\">\n      <div className=\"item\">\n        <button\n          type=\"button\"\n          className=\"btn btn-outline-secondary btn-lg note-name\"\n          disabled\n        >\n          {name}\n        </button>\n        <button\n          type=\"button\"\n          className=\"btn btn-outline-success btn-sm note-btn\"\n          name=\"watch\"\n          id={id}\n          onClick={event => showNote(event, true)}\n        >\n          <i className=\"fa fa-eye\" id={id} />\n        </button>\n        <button\n          type=\"button\"\n          className=\"btn btn-outline-primary btn-sm note-btn\"\n          name=\"edit\"\n          id={id}\n          onClick={event => showNote(event, false)}\n        >\n          <i className=\"fa fa-edit\" id={id} />\n        </button>\n        <button\n          type=\"button\"\n          className=\"btn btn-outline-danger btn-sm note-btn\"\n          name=\"trash\"\n          id={id}\n          onClick={deleteNote}\n        >\n          <i className=\"fa fa-trash-o\" id={id} />\n        </button>\n      </div>\n      <div className=\"tags\">\n        {\n          tags.map((item, index) => {\n            const key = `tag-${id}-${index}`;\n            return (\n              <div key={key}>\n                {item}\n                &nbsp;\n                <button\n                  type=\"button\"\n                  className=\"btn btn-outline-danger btn-sm note-btn\"\n                  name={index}\n                  onClick={() => removeTag(id, index)}\n                >\n                  <i\n                    className=\"fa fa-times-circle\"\n                    name={index}\n                  />\n                </button>\n              </div>\n            );\n          })\n        }\n        <button\n          className=\"btn btn-outline-info badge\"\n          type=\"button\"\n          id={id}\n          onClick={showTagInput}\n        >\n          <i className=\"fa fa-plus\" id={id} />\n        </button>\n      </div>\n    </div>\n  );\n}\n\nNote.propTypes = {\n  name: PropTypes.string.isRequired,\n  id: PropTypes.number.isRequired,\n  tags: PropTypes.arrayOf(PropTypes.string).isRequired,\n  deleteNote: PropTypes.func.isRequired,\n  showNote: PropTypes.func.isRequired,\n  removeTag: PropTypes.func.isRequired,\n  showTagInput: PropTypes.func.isRequired,\n};\n\nexport default Note;\n","import Note from './note';\n\nexport default Note;\n","import Modal from './modal';\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport ReactHtmlParser from 'react-html-parser';\nimport PropTypes from 'prop-types';\n\nclass Modal extends Component {\n  state ={\n    scrollTop: 0,\n  }\n\n  divRef = React.createRef();\n\n  componentDidUpdate() {\n    const { scrollTop } = this.state;\n    const { tag, tags } = this.props;\n    if (!tag && tags.length) this.divRef.current.scrollTop = scrollTop;\n  }\n\n  handleScroll = (event) => {\n    const { scrollTop } = event.target;\n    this.setState({\n      scrollTop,\n    });\n  };\n\n  render() {\n    const {\n      show, watch, name, text, tag, tags,\n      closeNote, handleInput, handleSubmit,\n    } = this.props;\n    const modalClass = show ? 'modal show' : 'modal fade';\n    const string = tags.join('|');\n    const re = new RegExp(string, 'g');\n    const divText = text.replace(re, '<mark>$&</mark>');\n    const placeholder = tag ? 'Add new tag' : 'Add title of new note';\n    return (\n      <form className={modalClass} tabIndex=\"-1\" role=\"dialog\" onSubmit={handleSubmit} disabled={watch}>\n        <div className=\"modal-dialog\" role=\"document\">\n          <div className=\"modal-content\">\n            <div className=\"form-group\">\n              <input\n                type=\"text\"\n                maxLength=\"20\"\n                className=\"form-control\"\n                name=\"title\"\n                placeholder={placeholder}\n                value={name}\n                onChange={handleInput}\n                disabled={watch}\n                required\n              />\n              { !tag && (\n                <div className=\"container\">\n                  { !!tags.length && (\n                    <div className=\"backdrop\" ref={this.divRef}>\n                      <div className=\"highlights\">\n                        { ReactHtmlParser(divText) }\n                      </div>\n                    </div>\n                  )}\n                  <textarea\n                    name=\"text\"\n                    value={text}\n                    placeholder=\"Add text of your note\"\n                    onChange={handleInput}\n                    onScroll={this.handleScroll}\n                    disabled={watch}\n                    required\n                  />\n                </div>\n              )}\n            </div>\n            <div className=\"modal-footer\">\n              <button\n                type=\"button\"\n                className=\"btn btn-sm btn-secondary\"\n                data-dismiss=\"modal\"\n                onClick={closeNote}\n              >\n                Close\n              </button>\n              <button\n                type=\"submit\"\n                className=\"btn btn-sm btn-primary\"\n                disabled={watch}\n              >\n                Save\n              </button>\n            </div>\n          </div>\n        </div>\n      </form>\n    );\n  }\n}\n\nModal.propTypes = {\n  show: PropTypes.bool.isRequired,\n  watch: PropTypes.bool.isRequired,\n  tag: PropTypes.bool.isRequired,\n  name: PropTypes.string.isRequired,\n  text: PropTypes.string.isRequired,\n  handleInput: PropTypes.func.isRequired,\n  handleSubmit: PropTypes.func.isRequired,\n  closeNote: PropTypes.func.isRequired,\n  tags: PropTypes.arrayOf(PropTypes.string).isRequired,\n};\n\n\nexport default Modal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction AddNew(props) {\n  const { id, showNote } = props;\n  return (\n    <button\n      type=\"button\"\n      className=\"btn btn-primary add-new\"\n      id={id}\n      onClick={event => showNote(event, false)}\n    >\n      Add new note\n    </button>\n  );\n}\n\nAddNew.propTypes = {\n  id: PropTypes.number.isRequired,\n  showNote: PropTypes.func.isRequired,\n};\n\nexport default AddNew;\n","import AddNew from './addNew';\n\nexport default AddNew;\n","import React from 'react';\n\nfunction Loader() {\n  return (\n    <div className=\"spinner-border\" role=\"status\">\n      <span className=\"sr-only\">Loading...</span>\n    </div>\n  );\n}\n\nexport default Loader;\n","import Loader from './loader';\n\nexport default Loader;\n","const LINK = 'https://notes-app-nyble.herokuapp.com/data';\n\nexport default LINK;\n","import React, { Component } from 'react';\nimport Search from './components/search';\nimport Note from './components/note';\nimport Modal from './components/modal';\nimport AddNew from './components/addNew';\nimport Loader from './components/loader';\nimport LINK from './constants';\n\nclass App extends Component {\n  state = {\n    search: '',\n    showModal: false,\n    showId: 0,\n    watchMode: false,\n    nameNote: '',\n    textNote: '',\n    tag: false,\n    notes: [\n    ],\n    loading: true,\n  }\n\n  componentDidMount() {\n    fetch(LINK)\n      .then(response => response.json())\n      .then((data) => {\n        const { notes } = data[0];\n        this.setState({\n          notes,\n          loading: false,\n        });\n      })\n      .catch((err) => {\n        this.setState({\n          loading: false,\n        });\n        console.log(`Saved data wasn't fetched. ${err}`);\n      });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { notes } = this.state;\n    if (prevState.notes !== notes) {\n      fetch(`${LINK}/1`, {\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n        },\n        method: 'PUT',\n        body: JSON.stringify({\n          notes,\n        }),\n      });\n    }\n  }\n\n  deleteNote = (event) => {\n    const { id } = event.target;\n    const { notes } = this.state;\n    const array = notes.filter((item, index) => !(index === parseInt(id, 10)));\n    this.setState({\n      notes: array,\n    });\n  }\n\n  showNote = (event, watchMode) => {\n    const { id } = event.target;\n    const { notes } = this.state;\n    if (notes.length > parseInt(id, 10)) {\n      this.setState({\n        showModal: true,\n        watchMode,\n        showId: parseInt(id, 10),\n        nameNote: notes[id].name,\n        textNote: notes[id].text,\n      });\n    } else {\n      this.setState({\n        showModal: true,\n        watchMode,\n        showId: parseInt(id, 10),\n        nameNote: '',\n        textNote: '',\n      });\n    }\n  };\n\n  closeNote = () => {\n    this.setState({\n      showModal: false,\n      nameNote: '',\n      textNote: '',\n      tag: false,\n    });\n  }\n\n  handleInput = (event) => {\n    const { name, value } = event.target;\n    if (name === 'title') {\n      this.setState({\n        nameNote: value,\n      });\n    }\n    if (name === 'text') {\n      this.setState({\n        textNote: value,\n      });\n    }\n  }\n\n  handleSearch = (event) => {\n    const { value } = event.target;\n    this.setState({\n      search: value,\n    });\n  }\n\n  addNote = () => {\n    const {\n      notes, showId, nameNote, textNote,\n    } = this.state;\n    const tagsArr = textNote.match(/#[A-Za-zА-Яа-я-]+/g) || [];\n    const prevTags = showId < notes.length ? notes[showId].tags : [];\n    const newTags = [...tagsArr.map(item => item.slice(1)), ...prevTags];\n    const newSet = new Set(newTags);\n    const note = {\n      name: nameNote,\n      text: textNote,\n      tags: Array.from(newSet),\n    };\n    return note;\n  }\n\n  addTag = () => {\n    const { notes, showId, nameNote } = this.state;\n    const { tags, text, name } = notes[showId];\n    const newTags = (tags.indexOf(nameNote) === -1) ? [...tags, nameNote] : [...tags];\n    const note = {\n      name,\n      text,\n      tags: newTags,\n    };\n    return note;\n  }\n\n  handleSubmit = (event) => {\n    event.preventDefault();\n    const { notes, showId, tag } = this.state;\n    const note = tag ? this.addTag() : this.addNote();\n    const array = [...notes.slice(0, showId), note, ...notes.slice(showId + 1)];\n    this.setState({\n      showModal: false,\n      notes: array,\n      tag: false,\n    });\n  }\n\n  removeTag = (id, index) => {\n    const { notes } = this.state;\n    const { tags } = notes[parseInt(id, 10)];\n    const newtags = tags.filter((item, num) => !(num === parseInt(index, 10)));\n    const note = {\n      name: notes[parseInt(id, 10)].name,\n      text: notes[parseInt(id, 10)].text,\n      tags: newtags,\n    };\n    const array = [...notes.slice(0, parseInt(id, 10)), note, ...notes.slice(parseInt(id, 10) + 1)];\n    this.setState({\n      notes: array,\n    });\n  }\n\n  showTagInput = (event) => {\n    const { id } = event.target;\n    this.setState({\n      showModal: true,\n      watchMode: false,\n      showId: parseInt(id, 10),\n      nameNote: '',\n      textNote: '',\n      tag: true,\n    });\n  }\n\n  render() {\n    const {\n      notes, showModal, watchMode, showId,\n      textNote, nameNote, tag, search, loading,\n    } = this.state;\n    const filteredNotes = notes.map(item => item.tags.join('#').indexOf(search.trim()));\n    const viewNotes = notes.filter((item, index) => filteredNotes[index] > -1);\n    const tags = (showId < notes.length) ? notes[showId].tags : [];\n    return (\n      <div className=\"app\">\n        <Search handleSearch={this.handleSearch} search={search} />\n        <AddNew id={notes.length} showNote={this.showNote} />\n        {\n          loading && <Loader />\n        }\n        {\n          !loading && viewNotes.map((item, index) => {\n            const key = `note-${index}`;\n            return (\n              <Note\n                name={item.name}\n                id={index}\n                tags={item.tags}\n                key={key}\n                deleteNote={this.deleteNote}\n                showNote={this.showNote}\n                removeTag={this.removeTag}\n                showTagInput={this.showTagInput}\n              />\n            );\n          })\n        }\n        <Modal\n          watch={watchMode}\n          show={showModal}\n          name={nameNote}\n          text={textNote}\n          handleInput={this.handleInput}\n          handleSubmit={this.handleSubmit}\n          closeNote={this.closeNote}\n          tag={tag}\n          tags={tags}\n        />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}